<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name='apple-mobile-web-app-capable' content='yes' />
<meta name='viewport' content='initial-scale=1.0, maximum-scale=1.0, user-scalable=0, width=device-width, height=device-height' />
<meta name='apple-mobile-web-app-status-bar-style' content='black-translucent' />
<title>No Scroll/Zoom Fullscreen Page (JS Enhanced + webapp)</title>
<link rel="canonical" href="https://williac0374.github.io/Full/" />
<link rel="manifest" href="/Full/manifest.webmanifest">
<style>
/* CSS to disable scrolling and set fullscreen */
html, body {
  margin: 0;
  padding: 0;
  height: 100vh;
  width: 100vw;
  /* Prevents scrolling */
  overflow: hidden;
  box-sizing: border-box;
  background-color: green;
  display: flex;
  justify-content: center;
  align-items: center;
  font-family: Arial, sans-serif;
  text-align: center;
}
canvas {
  // border: 2px solid #000;
  background-color: white;
  margin: 0;
  padding: 0;
}

</style>
</head>
<body>
<canvas id="canvas" width="320" height="675"></canvas>

<script>
/* * 2. JavaScript Solution: Intercepts 'touchmove' events to block the pinch-zoom gesture.
* This is often the most reliable method for recent versions of Chrome on Android.
*/

document.addEventListener('touchmove', function(event) {
  // Check if there are more than one touch points (a pinch gesture)
  if (event.touches.length > 1) {
    // Prevent the default browser behavior (which includes zooming)
    event.preventDefault();
  }
}, { passive: false }); // Use { passive: false } to ensure event.preventDefault() works
  
  // Optional: To block double-tap to zoom, though less common now:
  var lastTouchEnd = 0;
  document.addEventListener('touchend', function (event) {
    var now = (new Date()).getTime();
    // Check for double tap (two touchend events close together)
    if (now - lastTouchEnd <= 300) {
      event.preventDefault();
    }
    lastTouchEnd = now;
  }, false);
  var kcal=1500
  var protien = 199
  var fat = 200
  var carbs = 600
var left= {x:0, y:600, w:120, h:75};
var center= {x:120, y:600, w:80, h:75};
var right= {x:200, y:600, w:120, h:75};
  function start(){
    
  }
  function loop(){
    if(keyboard_check(vk_up)){
      kcal+=20;
    }
    if(keyboard_check(vk_down)){
      kcal-=20;
    if(kcal<0){kcal=0}
    }
    if(mouse_check_pressed()){
      ranStats()
      checkGui()
    }
  }
  function checkGui(){
    if(inside(mouse_x, mouse_y, left.x, left.y, left.w, left.h, 0, 0, 0)){
      alert('left')
    }
    if(inside(mouse_x, mouse_y, center.x, center.y, center.w, center.h, 0, 0, 0)){
      alert('center')
    }
    if(inside(mouse_x, mouse_y, right.x, right.y, right.w, right.h, 0, 0, 0)){
      alert('right')
    }
  }
  function ranStats(){
    kcal = irandom(2000)
    protien = irandom(200)
    fat = irandom(400)
    carbs = irandom(600)
    
  }
  function draw(){
    draw_gauge(kcal,2000,12,16)
    draw_gauge(protien,200,12,64)
    draw_gauge(fat,400,12,112)
    draw_gauge(carbs,600,12,160)
    draw_buttons()
  }
  function draw_buttons(){
    //draw_rectangle(x, y, w, h,outline,rot,ox,oy)
    draw_set_color(128,128,128)
    draw_rectangle(left.x, left.y, left.w, left.h, 0, 0, 0, 0)
    draw_rectangle(center.x, center.y, center.w, center.h, 0, 0, 0, 0)
    draw_rectangle(right.x, right.y, right.w, right.h, 0, 0, 0, 0)
    draw_set_color(0,0,0)
    draw_set_linewidth(4)
    draw_rectangle(left.x, left.y, left.w, left.h, 1, 0, 0, 0)
    draw_rectangle(center.x, center.y, center.w, center.h, 1, 0, 0, 0)
    draw_rectangle(right.x, right.y, right.w, right.h, 1, 0, 0, 0)
    draw_rectangle(0, 0, 320, 675,1,0,0,0)
    
  }
  
  function draw_gauge(val,max,ox,oy){
    let bVal = max/16;
    let bars = floor(val/bVal)
    for(let i=0;i<bars;i++){
      if(val<=max){
        if(i<6){
          draw_green(20*i+ox,oy,16,32)
        }else{
          if(i<11){
            draw_yellow(20*i+ox,oy,16,32)
          }else{
            draw_red(20*i+ox,oy,16,32)
          }
        }
      }else{
        if(i<15){
          if(irandom(10)>7){
            draw_grey(20*i+ox,oy,16,32);
          }else{
            draw_red(20*i+ox,oy,16,32);
          }
          
        }
      }
    }
    document.title=kcal+' - '+bars
  }
  function draw_red(x,y,w,h){
    draw_set_color(255,0,0)
    draw_rectangle(x, y, w, h,false,0,0,0)
  }
  function draw_green(x,y,w,h){
    draw_set_color(0,255,0)
    draw_rectangle(x, y, w, h,false,0,0,0)
  }
  function draw_yellow(x,y,w,h){
    draw_set_color(255,255,0)
    draw_rectangle(x, y, w, h,false,0,0,0)
  }
  function draw_grey(x,y,w,h){
    draw_set_color(128,128,128)
    draw_rectangle(x, y, w, h,false,0,0,0)
  }
  </script>
  <script type='text/javascript' src='engine.js'></script>
  </body>
  </html>
